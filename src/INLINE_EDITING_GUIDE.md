# Inline Dashboard Editing Guide

## Overview
You can now edit dashboards directly on the main app with a professional sidebar interface. This provides a better user experience since you see exactly what you're building in real-time with all sections organized in a left panel.

## How to Use

### 1. **Enter Edit Mode**
- Navigate to any dashboard tab (as Executive or Site Manager)
- Click the **"Edit Dashboard"** button in the top-right corner
- The interface splits into two panels:
  - **Left Sidebar**: Dashboard Sections panel with all your sections
  - **Right Panel**: Live Preview of your dashboard

### 2. **Dashboard Sections Sidebar (Left Panel)**

The sidebar shows all sections in your dashboard with:
- **Section icons** for visual identification
- **Drag handles** (≡) for reordering
- **Visibility toggles** (eye icon) to show/hide sections
- **Add Sections button** at the top

#### Managing Sections from Sidebar

**Reorder Sections:**
1. Click and hold the drag handle (≡) next to any section
2. Drag up or down to reorder
3. Release to drop in the new position
4. The live preview updates automatically

**Show/Hide Sections:**
1. Hover over any section in the list
2. Click the eye icon that appears
3. Section becomes hidden (greyed out) or visible
4. Hidden sections don't appear in the live preview

### 3. **Add New Sections**

To add a new section:
1. Click **"Add Sections"** button at the top of the left sidebar
2. A dialog opens showing 9 section types:
   - **KPI Cards** - Display key performance metrics
   - **Trend Chart** - Line chart showing performance over time
   - **Hours Breakdown** - Bar chart comparing expected vs actual
   - **Task List** - Detailed task table
   - **Rankings** - Performance leaderboard
   - **Distribution Chart** - Pie chart showing category distribution
   - **Bar Chart** - Customizable comparisons
   - **Budget Tracking** - Budget vs actual monitoring
   - **Hierarchical Table** - Multi-level breakdown

3. Click on your desired section type (it highlights)
4. Click **"Add Section"**
5. The new section appears in the sidebar list and live preview

### 4. **Live Preview (Right Panel)**

The right panel shows your dashboard in real-time:
- **Live Preview header** explains you're viewing all sections
- All sections render with actual data
- Drag and drop sections directly in the preview
- Resize sections by dragging their bottom edge
- Delete sections with the trash icon

### 5. **Save or Cancel Changes**

#### Save Changes
- Click the **"Save Changes"** button (green) in the top-right
- All edits are persisted to the dashboard
- You exit edit mode and return to normal view
- A success message confirms the save

#### Cancel Changes
- Click the **"Cancel"** button in the top-right
- All edits are discarded
- Dashboard returns to its previous state
- An info message confirms cancellation

## Visual Indicators

### Edit Mode Active
- **Blue info bar** at the top: "Edit Mode: Make changes to your dashboard. Click Save when done."
- **Left sidebar** showing all sections (320px wide)
- **Grey background** around the live preview area
- **Bordered preview panel** with "Live Preview" header
- **Drag handles** and controls visible on sections

### Normal Mode
- Clean, full-width dashboard view
- No sidebar or edit controls
- Optimal spacing and layout
- Professional presentation mode

## Sidebar Features

### Section Organization
- **Ordered list** matching your dashboard layout
- **Visual icons** for each section type
- **Truncated titles** to fit the sidebar width
- **Scroll support** for long section lists

### Drag & Drop
- **Grab cursor** on hover
- **Smooth animations** during drag
- **Visual feedback** showing drag state
- **Smart reordering** that updates the preview

### Visibility Control
- **Eye icon** appears on hover
- **Toggle visibility** without deleting
- **Greyed out appearance** for hidden sections
- **Instant preview update** when toggling

## Tips & Best Practices

### Layout Planning
1. **Start with structure**: Add all sections first
2. **Organize logically**: Group related sections together
3. **Use visibility**: Hide sections instead of deleting (easy to restore)
4. **Test on different screens**: Preview how it looks at different sizes

### Efficient Editing
1. **Use the sidebar for quick reordering**: Faster than dragging in the preview
2. **Hide sections temporarily**: Test different layouts without losing work
3. **Add multiple sections at once**: Add all sections, then configure
4. **Save incrementally**: Don't lose work - save as you go

### Section Selection
1. **KPI Cards**: Best for top-level metrics (use first)
2. **Charts**: Choose based on data type (trends vs comparisons vs distributions)
3. **Tables**: Good for detailed drill-downs (use lower in dashboard)
4. **Hierarchical views**: Use when users need to explore nested data

## Keyboard & Mouse

### Drag Operations
- **Click + Drag**: Reorder sections
- **Hover**: Show visibility toggle
- **Single Click**: Select section (future: open config)

### Quick Actions
- **Eye Icon Click**: Toggle visibility
- **Drag Handle**: Grab to reorder
- **Add Button**: Open section picker

## Who Can Edit?

- **Executives**: Can edit all dashboards
- **Site Managers**: Can edit their site dashboards  
- **Supervisors**: View-only (cannot edit)

## Mobile & Responsive

- **Desktop/Laptop**: Full sidebar + preview layout (recommended)
- **Tablets**: Sidebar auto-hides, swipe to reveal
- **Mobile**: Edit mode not recommended (use desktop for editing)

## Comparison: Inline Editing vs Dashboard Builder

| Feature | Inline Editing (NEW) | Dashboard Builder |
|---------|---------------------|-------------------|
| **Interface** | Sidebar + Live Preview | Separate builder screen |
| **Workflow** | Direct manipulation | Multi-step wizard |
| **Preview** | Real-time, side-by-side | Separate preview panel |
| **Section Management** | Organized sidebar list | Grid canvas |
| **Learning Curve** | Very low (intuitive) | Medium (more features) |
| **Best For** | Quick edits, reordering, everyday use | Creating complex dashboards from scratch |
| **Speed** | Fast (fewer clicks) | Slower (more configuration) |
| **Visibility** | Always see live result | Switch between modes |

## Advanced Features (Coming Soon)

### Section Configuration
- Click sections to edit their settings inline
- Configure data sources without leaving edit mode
- Adjust chart types and visualizations
- Edit titles and descriptions

### Undo/Redo
- Keyboard shortcuts (Ctrl+Z / Ctrl+Y)
- History panel showing all changes
- Restore to any previous state

### Templates
- Save your layout as a template
- Apply templates to other dashboards
- Share templates across the organization

### Bulk Operations
- Multi-select sections
- Batch visibility changes
- Duplicate multiple sections at once

## Troubleshooting

**Q: Sections not reordering?**
- Make sure you're dragging from the drag handle (≡)
- Check that edit mode is active (blue bar at top)

**Q: Can't see the sidebar?**
- Click "Edit Dashboard" to enter edit mode
- Ensure your screen width is at least 1024px

**Q: Changes not saving?**
- Click "Save Changes" button before exiting
- Check for error messages in toast notifications

**Q: Section disappeared?**
- Check if it's hidden (eye icon in sidebar)
- Click the eye icon to make it visible again

## Need Help?

The inline editing interface is designed to be intuitive and self-explanatory. If you need assistance:
1. Look for tooltips on hover
2. Check the footer hint in the sidebar
3. Refer to the "Live Preview" header for context
4. Contact your system administrator

---

**Pro Tip**: The sidebar makes dashboard editing feel like organizing a playlist - simple drag and drop with instant visual feedback!
